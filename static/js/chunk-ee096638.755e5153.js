(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee096638"],{"0095":function(t,e,a){},"0394":function(t,e,a){},"051b":function(t,e,a){"use strict";a("3e30")},"05ff":function(t,e,a){"use strict";a("bf73")},"0c20":function(t,e,a){},"0f41":function(t,e,a){"use strict";a("198f")},"11db":function(t,e,a){"use strict";a("459c")},"198f":function(t,e,a){},"1a90":function(t,e,a){"use strict";a("ece4")},"1ae9":function(t,e,a){"use strict";a("cbf3")},"1e71":function(t,e,a){"use strict";a("58dd")},2190:function(t,e,a){},2600:function(t,e,a){},"275e":function(t,e,a){"use strict";a("4f20")},"29cc":function(t,e,a){},"2b7f":function(t,e,a){"use strict";a("ca29")},"2e9a":function(t,e,a){},"2f47":function(t,e,a){},"2ff4":function(t,e,a){"use strict";a("0394")},"306e":function(t,e,a){"use strict";a("981c")},3701:function(t,e,a){"use strict";a("2600")},"377f":function(t,e,a){},3784:function(t,e,a){},"3e30":function(t,e,a){},"40c0":function(t,e,a){"use strict";a("578f")},"459c":function(t,e,a){},"496d":function(t,e,a){"use strict";a("2f47")},"4aeb":function(t,e,a){},"4f20":function(t,e,a){},"4fb2":function(t,e,a){"use strict";a("0c20")},"52e6":function(t,e,a){},"53b9":function(t,e,a){"use strict";a("c0b1")},"578f":function(t,e,a){},"57ed":function(t,e,a){"use strict";a("fd91")},"58dd":function(t,e,a){},"5dcb":function(t,e,a){},"5dd6":function(t,e,a){},"603e":function(t,e,a){"use strict";a("96dc6")},"615b":function(t,e,a){"use strict";a("0095")},"62d2":function(t,e,a){"use strict";a("794a")},6400:function(t,e,a){},"642e":function(t,e,a){},"71e2":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("b4fb");var i=a("b705"),n=a("b5c8"),l=a.n(n);function s(t){return t.code?o(t.code,t.message):t.statusCode?o(t.statusCode,t.message):t.message?Object(i["Message"])({type:"error",message:t.message}):Object(i["Message"])({type:"error",message:t}),!1}function o(t,e){l.a.Logging.getLogger("FrontEndError"),l.a.Logging.getLogger("FrontEndError").error("".concat(t,"--").concat(e)),console.error(t,e),i["Notification"].error({title:"错误:"+t,dangerouslyUseHTMLString:!0,duration:1e4,message:e})}},7274:function(t,e,a){},"73f3":function(t,e,a){"use strict";a("6400")},"794a":function(t,e,a){},"7b57":function(t,e,a){"use strict";a("2190")},"7c52":function(t,e,a){"use strict";a("4aeb")},8582:function(t,e,a){"use strict";a("7274")},"8dde":function(t,e,a){},"91a8":function(t,e,a){"use strict";a("cb4d")},"94e2":function(t,e,a){"use strict";a("642e")},"96dc6":function(t,e,a){},"981c":function(t,e,a){},b1fd:function(t,e,a){"use strict";a("29cc")},b55f:function(t,e,a){"use strict";a("2e9a")},bf73:function(t,e,a){},c094:function(t,e,a){"use strict";a("df1f")},c0b1:function(t,e,a){},ca29:function(t,e,a){},cad0:function(t,e,a){"use strict";a("de51")},cb4d:function(t,e,a){},cbf3:function(t,e,a){},cd50:function(t,e,a){"use strict";a("3784")},cdac:function(t,e,a){"use strict";a("5dcb")},d2e8:function(t,e,a){"use strict";a("377f")},d6f8:function(t,e,a){"use strict";a("8dde")},dbbb:function(t,e,a){"use strict";a("5dd6")},de51:function(t,e,a){},df1f:function(t,e,a){},e93a:function(t,e,a){},ece4:function(t,e,a){},f8bd:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-editor editor-wrapper"},[a("div",{staticClass:"left-menu-main"},[a("el-tabs",[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("组件")]),a("component-menu")],1),a("el-tab-pane",{attrs:{label:"消息中心"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("图层")]),a("layer-components",{ref:"layerComRef"})],1)],1)],1),a("div",{staticClass:"editor-main"},[a("editorPan",{ref:"editorPan",attrs:{scale:t.projectData.canvasScale},on:{"update:scale":function(e){return t.$set(t.projectData,"canvasScale",e)}}})],1),a("div",{staticClass:"el-attr-edit-wrapper scrollbar-wrapper"},[t.activeElementUUID?a("el-tabs",{attrs:{stretch:""},model:{value:t.activeAttr,callback:function(e){t.activeAttr=e},expression:"activeAttr"}},t._l(t.activeElement.attributeTab,(function(e,i){return a("el-tab-pane",{key:i,attrs:{label:e.name,name:e.elName}},[t.activeAttr==e.elName?a(e.elName,{tag:"component"}):t._e()],1)})),1):a("el-tabs",{attrs:{value:t.defaultActiveAttr,stretch:""}},[a("el-tab-pane",{attrs:{label:"大屏设置",name:"大屏设置"}},[a("pageAttrEdit",{ref:"pageAttrEditRef",on:{screenshots:function(e){return t.screenshots()}}})],1),a("el-tab-pane",{attrs:{label:"背景地图",name:"背景地图"}},[a("backgroundMapEdit")],1)],1)],1),t.showPreview?a("previewPage",{attrs:{"page-data":t.projectData,"page-id":t.id},on:{closePreview:function(e){t.showPreview=!1},publishFn:t.publishFn,saveFn:t.saveFn}}):t._e(),a("imageLibs")],1)},n=[],l=(a("b4fb"),a("4194"),a("3e54"),a("e18c"),a("e35a"),a("f4e3"),a("0d7a"),a("8256"),a("ab6e"),a("927c"),a("3c51"),a("db0a"),a("1cc1"),a("ab0f"),a("fc6e"),a("f30b"),a("cfd1"),a("d104"),a("f74a"),a("3598"),a("b497"),a("2909"),a("a7ef"),a("b523"),a("e671"),a("4140"),a("83db"),a("829d"),a("939f"),a("1bb18"),a("c3ba"),a("6a61"),a("2e91")),s=a("d211"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"editor-side-bar"},[a("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"},model:{value:t.activeSideBar,callback:function(e){t.activeSideBar=e},expression:"activeSideBar"}},[t._l(t.sidebarMenus,(function(t,e){return[a("el-tab-pane",{key:e,attrs:{name:t.value}},[a("el-tooltip",{staticClass:"item",attrs:{slot:"label",effect:"dark",content:t.label,placement:"right"},slot:"label"},[a("svg-icon",{attrs:{"icon-class":t.elementUiIcon,"class-name":t.elementUiIcon}})],1)],1)]}))],2)],1),a("div",{staticClass:"editor-page-edit-wrapper"},t._l(t.componentLibs,(function(e){return a("div",{key:e.id,staticClass:"editor-page-edit-wrapper-item"},[t.activeSideBar===e.id?a("componentLibs",{attrs:{list:e.components}}):t._e()],1)})),0)])},c=[],r=(a("fe59"),a("08ba"),a("7425")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-libs-wrapper scrollbar-wrapper"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("ul",{staticClass:"scrollbar-wrapper"},[a("li",{staticClass:"clearfix paddingB10"},[a("div",{staticClass:"components-lib-item-box",on:{dragstart:t.handleDragStart}},t._l(t.componentsList,(function(e,i){return a("div",{key:i,staticClass:"components-lib-item",attrs:{draggable:"","data-index":e.elName},on:{click:function(a){return t.handleClick(e)}}},[a("div",{staticClass:"lib-item-img"},[e.isSvg?a("svg-icon",{attrs:{"icon-class":e.icon}}):a("i",{class:[e.icon]})],1),a("p",{staticClass:"lib-item-title"},[t._v(t._s(e.title))])])})),0)])])])],1)},d=[],p=(a("b130"),a("90aa"),a("a14a")),m=a("5171"),h=a("9198");window._qk_register_components_object=h["a"],console.log(h["a"]);var v={name:"ComponentLibs",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{componentsList:this.list}},created:function(){console.log("componentsList",this.componentsList)},methods:{handleDragStart:function(t,e,a){t.dataTransfer.setData("elName",t.target.dataset.index)},handleClick:function(t){var e=this.getComponentProps(t.elName);this.$store.dispatch("addElement",Object(s["a"])(Object(s["a"])({},t),{},{needProps:e}))},getComponentProps:function(t){var e;for(var a in h["a"])if(a.toLowerCase()===Object(p["camelCase"])(t).toLowerCase()){e=h["a"][a];break}if(!e)return{};var i={};for(var n in e.props)i[n]=[Object,Array].includes(e.props[n].type)?e.props[n].default():e.props[n].default;return i}}},f=v,b=(a("91a8"),a("5d22")),g=Object(b["a"])(f,u,d,!1,null,"5517a9ed",null),C=g.exports,w={components:{componentLibs:C},props:{},data:function(){return{eleConfig:r["a"],activeSideBar:"",sidebarMenus:[],componentLibs:[]}},created:function(){var t=[],e=[];r["a"].forEach((function(a){t.push({label:a.title,value:a.id,elementUiIcon:a.icon}),e.push({id:a.id,components:a.components})})),this.activeSideBar=t[0].value,this.sidebarMenus=t,this.componentLibs=e,this.scaleValue=this.scale},methods:{}},y=w,x=(a("40c0"),Object(b["a"])(y,o,c,!1,null,"b0ebc392",null)),S=x.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layer-components-main"},[a("el-tree",{attrs:{data:t.elementList,props:t.treeDefaultProps},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return[a("div",{staticClass:"el-layer-content-item",on:{"node-click":function(e){return t.handleNodeClick(i,n)}}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"con-item-icon"},[n.isSvg?a("svg-icon",{attrs:{"icon-class":n.icon,"class-name":"item-panel-icon"}}):a("i",{class:[n.icon]})],1)]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"con-item-txt"},[a("span",[t._v(t._s(n.elName))])])])],1)],1)]}}])})],1)},j=[],D=a("52c1"),_={props:{},data:function(){return{ele:[],treeDefaultProps:{children:"chirden",label:"elName"}}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData}})),Object(D["c"])(["elementList"])),mounted:function(){},methods:{handleNodeClick:function(t){}}},k=_,O=(a("051b"),a("7b57"),Object(b["a"])(k,E,j,!1,null,"5699b938",null)),I=O.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"elMain",staticClass:"editor-pane",on:{click:t.handleClickCanvas,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleKeyup(e)}}},[a("el-main",[a("div",{staticClass:"editor-pane-inner",style:{width:t.editorPaneInnerWidth+"px",height:t.editorPaneInnerHeight+"px"}},[a("div",{staticClass:"editor-main",style:{transform:"scale("+t.scale+")",left:t.translateX+"px",top:t.translateY+"px",width:t.projectData.width+"px",height:t.projectData.height+"px"},attrs:{id:"editor-main"},on:{drop:t.handleDrop,dragover:t.handleDragOver}},[a("div",{ref:"canvasPanel",staticClass:"page-preview-wrapper",style:t.getCommonStyle(t.activePage.commonStyle),attrs:{id:"canvas-panel"}},[t.projectData.bgMapObj?a("div",{staticStyle:{position:"relative",width:"100%",height:"100%"},on:{click:function(e){return e.stopPropagation(),t.handleBgElementClick()}}},[a("div",{staticClass:"baMap"},[a(t.projectData.bgMapObj.elName,t._b({tag:"component",staticClass:"element-on-edit-pane"},"component",Object.assign({},t.projectData.bgMapObj.propsValue),!1))],1)]):t._e(),t._l(t.activePage.elements,(function(e){return a("edit-shape",{key:e.uuid,style:t.getCommonStyle(e.commonStyle),attrs:{uuid:e.uuid,"e-data":e,"default-style":e.commonStyle,active:e.uuid===t.activeElementUUID},on:{handleElementClick:function(a){return t.handleElementClick(e.uuid)},resize:t.handleElementResize}},[a("div",{staticClass:"edit-shape-component",staticStyle:{position:"absolute",width:"100%",height:"100%","z-index":"999"}}),a(e.elName,t._b({tag:"component",staticClass:"element-on-edit-pane"},"component",Object.assign({},e.propsValue,{value:e.value}),!1))],1)}))],2),a("div",{staticClass:"page-wrapper-mask"})])])]),a("el-footer",[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{},[a("i",{staticClass:"el-icon-location-outline"}),t._v("坐标："),a("span",[t._v(t._s(t.eX)+" , "+t._s(t.eY))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"page-center"},[a("i",{staticClass:"el-icon-c-scale-to-original"}),t._v("尺寸："),a("span",[t._v(t._s(t.projectData.width)+" , "+t._s(t.projectData.height))])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"footer-designer-zoom"},[a("label",{on:{click:function(e){return t.editScale("reduce")}}},[a("i",{staticClass:"el-icon-zoom-out"})]),a("el-slider",{attrs:{min:20,max:200,step:5},on:{change:t.updateScale},model:{value:t.scaleValue,callback:function(e){t.scaleValue=e},expression:"scaleValue"}}),a("label",{on:{click:function(e){return t.editScale("plus")}}},[a("i",{staticClass:"el-icon-zoom-in"})])],1)])],1)],1)],1)},U=[],A=(a("053b"),a("513c"),a("20a5"),a("28f8")),P=a("0969"),z=a("072e"),L=a.n(z);window._qk_register_components_object=h["a"];var V={components:Object(s["a"])(Object(s["a"])({},h["a"]),{},Object(A["a"])({},P["a"].name,P["a"])),props:{scale:{type:Number,default:0}},data:function(){return{translateNone:100,editorPaneInnerWidth:0,editorPaneInnerHeight:0,translateX:0,translateY:0,eX:0,eY:0,scaleValue:0,getCommonStyle:m["a"].getCommonStyle,menuOptions:[{title:"复制",icon:"iconfont iconfuzhi",value:"copy"},{title:"删除",icon:"iconfont iconshanchu",value:"delete"},{title:"字体放大",icon:"iconfont iconzitifangda",value:"fontA+"},{title:"字体缩小",icon:"iconfont iconzitisuoxiao",value:"fontA-"},{title:"字体加粗",icon:"iconfont iconzitijiacu",value:"fontB"},{title:"图层上移",icon:"iconfont iconziyuan1",value:"layerUp"},{title:"图层下移",icon:"iconfont iconxiayiyiceng",value:"layerDown"},{title:"图层置顶",icon:"iconfont iconcontrol-top",value:"layerTop"},{title:"图层置底",icon:"iconfont iconcontrol-bottom",value:"layerBottom"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),watch:{"projectData.canvasScale":{handler:function(t,e){console.log("canvasScale",t),this.updateSize(t),this.scaleValue=100*t},deep:!0}},created:function(){this.scaleValue=parseInt((100*this.scale).toFixed(0))},mounted:function(){var t=this;.2===this.scale&&this.updateSize(this.updateSizeEL()),console.log("activePage.elements",this.activePage),window.onresize=function(){return function(){t.updateSize(t.scale)}()}},methods:{handleDrop:function(t){t.preventDefault(),t.stopPropagation();var e=t.dataTransfer.getData("elName"),a=m["a"].getEleByElName(e),i=this.getComponentProps(e);a.defaultStyle.top=t.offsetY,a.defaultStyle.left=t.offsetX,this.$store.dispatch("addElement",Object(s["a"])(Object(s["a"])({},a),{},{needProps:i}))},handleDragOver:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy"},getComponentProps:function(t){var e;for(var a in h["a"])if(a.toLowerCase()===Object(p["camelCase"])(t).toLowerCase()){e=h["a"][a];break}if(!e)return{};var i={};for(var n in e.props)i[n]=[Object,Array].includes(e.props[n].type)?e.props[n].default():e.props[n].default;return i},updateSizeEL:function(){var t=this.$refs.elMain.clientWidth,e=this.$refs.elMain.clientHeight;this.editorPaneInnerWidth=t,this.editorPaneInnerHeight=e-25;var a=1,i=1,n=1;return this.projectData.width>this.editorPaneInnerWidth&&(a=(this.editorPaneInnerWidth-2*this.translateNone)/this.projectData.width),this.projectData.height>this.editorPaneInnerHeight&&(i=(this.editorPaneInnerHeight-2*this.translateNone)/this.projectData.height),n=a>i?i:a,this.updateScale(parseInt(100*n)),n},updateSize:function(t){var e=this.$refs.elMain.clientWidth,a=this.$refs.elMain.clientHeight-25;this.editorPaneInnerWidth=parseInt(this.projectData.width*t+2*this.translateNone),e>this.editorPaneInnerWidth&&(this.editorPaneInnerWidth=e),this.editorPaneInnerHeight=parseInt(this.projectData.height*t+2*this.translateNone),a>this.editorPaneInnerHeight&&(this.editorPaneInnerHeight=a),this.projectData.width*t>e?this.translateX=this.translateNone:this.translateX=parseInt((this.editorPaneInnerWidth-this.projectData.width*t)/2),this.projectData.height*t>a?this.translateY=this.translateNone:this.translateY=parseInt((this.editorPaneInnerHeight-this.projectData.height*t)/2)},updateScale:function(t){this.scaleValue=t;var e=parseFloat((.01*t).toFixed(2));this.projectData.canvasScale=e,this.$store.dispatch("setPrjectData",this.projectData),console.log(e),this.updateSize(e),this.$emit("update:scale",e)},editScale:function(t){"plus"===t?this.scaleValue=this.scaleValue+5:"reduce"===t?this.scaleValue=this.scaleValue-5:"reset"===t&&(this.scaleValue=1);var e=parseFloat((.01*this.scaleValue).toFixed(2));this.updateSize(e),this.$emit("update:scale",e)},handleElementClick:function(t){this.$store.dispatch("setActiveElementUUID",t)},handleBgElementClick:function(t){this.$store.dispatch("setActiveElementUUID",this.projectData.bgMapObj.uuid)},handleElementResize:function(t){if(!t)return console.log("addHistoryCache"),void this.$store.dispatch("addHistoryCache");this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle.left=t.left,console.log("handleElementResize",Object(s["a"])({},t)),this.projectData.pages[this.currentPageIndex].elements[this.activeElementIndex].commonStyle=Object(s["a"])({},t),this.eX=t.left,this.eY=t.top},handleClickCanvas:function(t){t.target.classList.contains("element-on-edit-pane")||t.target.classList.contains("menu-item-on-edit-panel")||(console.log("handleClickCanvas----123--123"),this.$store.dispatch("setActiveElementUUID",""))},handleElementCommand:function(t){console.log("handleElementCommand"),this.$store.dispatch("elementCommand",t)},handleKeyup:function(t){console.log(1111,t)},screenshots:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i,n,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,i=document.querySelector("#canvas-panel"),e.prev=2,e.next=5,L()(i,{useCORS:!0,backgroundColor:null});case 5:n=e.sent,l=n.toDataURL(),a.projectData.coverImage=l,a.$notify({title:"缩略图截取成功！",message:"",type:"success",duration:2500}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),a.$notify({title:"截取失败！",message:"未知错误",type:"success",duration:2500});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()}}},T=V,M=(a("cdac"),a("1ae9"),Object(b["a"])(T,$,U,!1,null,"80ce6b50",null)),R=M.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"components-attr-edit components-attr-edit-main"},[t.activeElementUUID?a("div",{staticClass:"attr-edit-inner"},[t.activeElement.attributeTabNavigation.length>0?a("div",{staticClass:"components-attr-bat"},[a("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left"},model:{value:t.activeSideBar,callback:function(e){t.activeSideBar=e},expression:"activeSideBar"}},[t._l(t.activeElement.attributeTabNavigation,(function(t,e){return[a("el-tab-pane",{key:e,attrs:{name:t.value}},[a("el-tooltip",{staticClass:"item",attrs:{slot:"label",effect:"dark",content:t.label,placement:"right"},slot:"label"},[a("i",{staticClass:"tj-icon",class:t.elementUiIcon})])],1)]}))],2)],1):t._e(),a("div",{staticClass:"common-attr-style",class:{isLeft:t.activeElement.attributeTabNavigation.length>0}},["componentLibs"===t.activeSideBar?a("div",[a("propsAttr"),a("baseAttr")],1):t._e(),"chartTitleComponentsLibs"===t.activeSideBar?a("div",[a("propsTitle")],1):t._e(),"mapComponentsLibs"===t.activeSideBar?a("div",[a("propsMap")],1):t._e()])]):a("div",[a("p",{staticClass:"gray paddingT40 text-center"},[t._v("请在画板上选择需要编辑得元素")])])])},N=[],H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"page-title fontBold"},[t._v("基础样式")]),a("el-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"尺寸与位置：",name:"1"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("尺寸：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.activeElement.commonStyle.width,callback:function(e){t.$set(t.activeElement.commonStyle,"width",e)},expression:"activeElement.commonStyle.width"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("宽度")])],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.activeElement.commonStyle.height,callback:function(e){t.$set(t.activeElement.commonStyle,"height",e)},expression:"activeElement.commonStyle.height"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("高度")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("位置：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right"},model:{value:t.activeElement.commonStyle.left,callback:function(e){t.$set(t.activeElement.commonStyle,"left",e)},expression:"activeElement.commonStyle.left"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("X")])],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right"},model:{value:t.activeElement.commonStyle.top,callback:function(e){t.$set(t.activeElement.commonStyle,"top",e)},expression:"activeElement.commonStyle.top"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("Y")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("旋转：")]),a("div",{staticClass:"col-1 attr-item-edit-input"},[a("el-slider",{attrs:{"show-input":"",min:-180,max:180,marks:{0:"",90:"","-90":""},"input-size":"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.rotate,callback:function(e){t.$set(t.activeElement.commonStyle,"rotate",e)},expression:"activeElement.commonStyle.rotate"}})],1)])]),a("el-collapse-item",{attrs:{title:"边框边距：",name:"2"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("边框：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderWidth,callback:function(e){t.$set(t.activeElement.commonStyle,"borderWidth",e)},expression:"activeElement.commonStyle.borderWidth"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("尺寸")])],1),a("el-col",{attrs:{span:4}},[a("el-color-picker",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderColor,callback:function(e){t.$set(t.activeElement.commonStyle,"borderColor",e)},expression:"activeElement.commonStyle.borderColor"}}),a("div",{staticClass:"attr-item-edit-input-des",staticStyle:{"margin-top":"-2px"}},[t._v("颜色")])],1),a("el-col",{attrs:{span:10}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderStyle,callback:function(e){t.$set(t.activeElement.commonStyle,"borderStyle",e)},expression:"activeElement.commonStyle.borderStyle"}},t._l(t.borderStyleList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("样式")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("边框圆弧：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.borderRadius,callback:function(e){t.$set(t.activeElement.commonStyle,"borderRadius",e)},expression:"activeElement.commonStyle.borderRadius"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("上下边距：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingTop,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingTop",e)},expression:"activeElement.commonStyle.paddingTop"}})],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingBottom,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingBottom",e)},expression:"activeElement.commonStyle.paddingBottom"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("左右边距：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingLeft,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingLeft",e)},expression:"activeElement.commonStyle.paddingLeft"}})],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.paddingRight,callback:function(e){t.$set(t.activeElement.commonStyle,"paddingRight",e)},expression:"activeElement.commonStyle.paddingRight"}})],1)],1)],1)]),a("el-collapse-item",{attrs:{title:"阴影样式：",name:"3"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("阴影位置：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.h,callback:function(e){t.$set(t.boxShadow,"h",e)},expression:"boxShadow.h"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("水平阴影位置")])],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.v,callback:function(e){t.$set(t.boxShadow,"v",e)},expression:"boxShadow.v"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("垂直阴影位置")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("阴影位置：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.blur,callback:function(e){t.$set(t.boxShadow,"blur",e)},expression:"boxShadow.blur"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("水平阴影位置")])],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.spread,callback:function(e){t.$set(t.boxShadow,"spread",e)},expression:"boxShadow.spread"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("垂直阴影位置")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("阴影颜色：")]),a("div",{staticClass:"attr-item-edit-input"},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.boxShadowChange},model:{value:t.boxShadow.color,callback:function(e){t.$set(t.boxShadow,"color",e)},expression:"boxShadow.color"}})],1)])]),a("el-collapse-item",{attrs:{title:"字体：",name:"4"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字体大小：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontSize,callback:function(e){t.$set(t.activeElement.commonStyle,"fontSize",e)},expression:"activeElement.commonStyle.fontSize"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字体粗细：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:300,step:100,max:900},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontWeight,callback:function(e){t.$set(t.activeElement.commonStyle,"fontWeight",e)},expression:"activeElement.commonStyle.fontWeight"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("行间距：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:300,step:100,max:900},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.fontWeight,callback:function(e){t.$set(t.activeElement.commonStyle,"fontWeight",e)},expression:"activeElement.commonStyle.fontWeight"}})],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0,step:.1},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.lineHeight,callback:function(e){t.$set(t.activeElement.commonStyle,"lineHeight",e)},expression:"activeElement.commonStyle.lineHeight"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字间距：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.letterSpacing,callback:function(e){t.$set(t.activeElement.commonStyle,"letterSpacing",e)},expression:"activeElement.commonStyle.letterSpacing"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("对齐方式：")]),a("div",{staticClass:"sizeAndPosition-wrapper"},[a("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("left")}}},[a("el-tooltip",{attrs:{effect:"dark",content:"左对齐",placement:"bottom"}},[a("i",{staticClass:"iconfont iconzuoduiqi1"})])],1),a("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("center")}}},[a("el-tooltip",{attrs:{effect:"dark",content:"居中对齐",placement:"bottom"}},[a("i",{staticClass:"iconfont iconjuzhongduiqi"})])],1),a("div",{staticClass:"align-type-item clearFlex",on:{click:function(e){return t.handleTextAlignClick("right")}}},[a("el-tooltip",{attrs:{effect:"dark",content:"右对齐",placement:"bottom"}},[a("i",{staticClass:"iconfont iconyouduiqi2"})])],1)])]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字体颜色：")]),a("div",{staticClass:"attr-item-edit-input"},[a("el-color-picker",{attrs:{size:"mini"},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.color,callback:function(e){t.$set(t.activeElement.commonStyle,"color",e)},expression:"activeElement.commonStyle.color"}})],1)])]),a("el-collapse-item",{attrs:{title:"背景&&透明度：",name:"5"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("背景颜色：")]),a("div",{staticClass:"attr-item-edit-input no-top"},[a("el-color-picker",{attrs:{size:"mini","show-alpha":!0},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.backgroundColor,callback:function(e){t.$set(t.activeElement.commonStyle,"backgroundColor",e)},expression:"activeElement.commonStyle.backgroundColor"}})],1)]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("透明度：")]),a("div",{staticClass:"col-2 attr-item-edit-input"},[a("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0,max:1,step:.1},on:{change:t.throttleAddHistory},model:{value:t.activeElement.commonStyle.opacity,callback:function(e){t.$set(t.activeElement.commonStyle,"opacity",e)},expression:"activeElement.commonStyle.opacity"}})],1)])])],1)],1)},W=[],F=(a("5e9f"),{components:{},data:function(){return{activeNames:["1"],alignTypeList:[{title:"左对齐",icon:"iconfont iconzuoduiqi",type:"l"},{title:"上对齐",icon:"iconfont iconshangduiqi",type:"t"},{title:"右对齐",icon:"iconfont iconyouduiqi",type:"r"},{title:"下对齐",icon:"iconfont iconxiaduiqi",type:"b"},{title:"垂直居中对齐",icon:"iconfont iconchuizhijuzhongduiqi",type:"tb"},{title:"水平居中对齐",icon:"iconfont iconshuipingjuzhongduiqi",type:"lr"}],borderStyleList:[{label:"实线",value:"solid"},{label:"虚线",value:"dashed"},{label:"点状",value:"dotted"},{label:"双线",value:"double"}],boxShadow:{h:0,v:0,blur:0,spread:0,color:"#000000"}}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID},activeAttrEditCollapse:function(t){return t.editor.activeAttrEditCollapse}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),watch:{activeElementUUID:function(){var t=this;this.$nextTick((function(){t.initBoxShadowEdit()}))},activeNames:function(){this.$store.commit("updateActiveAttrEditCollapse",this.activeNames)}},created:function(){this.throttleAddHistory=Object(p["throttle"])(this.addHistory,3e3)},mounted:function(){this.initBoxShadowEdit(),this.activeNames=this.activeAttrEditCollapse},methods:{addHistory:function(){this.$store.dispatch("addHistoryCache")},changeAlignType:function(t){var e=this.$config.canvasH5Width,a=this.$config.canvasH5Height,i=this.activeElement.commonStyle.width,n=this.activeElement.commonStyle.height;switch(t){case"t":this.activeElement.commonStyle.top=0;break;case"b":this.activeElement.commonStyle.top=Object(p["subtract"])(a-n);break;case"l":this.activeElement.commonStyle.left=0;break;case"r":this.activeElement.commonStyle.left=Object(p["subtract"])(e-i);break;case"tb":this.activeElement.commonStyle.top=Object(p["ceil"])(Object(p["divide"])(Object(p["subtract"])(a-n),2),2);break;case"lr":this.activeElement.commonStyle.left=Object(p["ceil"])(Object(p["divide"])(Object(p["subtract"])(e-i),2),2);break}},initBoxShadowEdit:function(){var t=this.activeElement.commonStyle.boxShadow,e={h:0,v:0,blur:0,spread:0,color:"#000000"};if(t&&"none"!==t){var a=t.split(" ");e={h:parseInt(a[0].replace("px","")),v:parseInt(a[1].replace("px","")),blur:parseInt(a[2].replace("px","")),spread:parseInt(a[3].replace("px","")),color:a[4]},this.boxShadow=e}else this.boxShadow=e},boxShadowChange:function(){var t="".concat(this.boxShadow.h,"px ").concat(this.boxShadow.v,"px  ").concat(this.boxShadow.blur,"px  ").concat(this.boxShadow.spread,"px  ").concat(this.boxShadow.color);this.activeElement.commonStyle.boxShadow=t},handleTextAlignClick:function(t){this.activeElement.commonStyle.textAlign=t},handleResizeClick:function(t){t.includes("w")&&(this.activeElement.commonStyle.left=0,this.activeElement.commonStyle.width=this.projectData.width),t.includes("h")&&(this.activeElement.commonStyle.top=0,this.activeElement.commonStyle.height=this.projectData.height)}}}),q=F,Y=(a("fc39"),a("0f41"),Object(b["a"])(q,H,W,!1,null,"2b625137",null)),J=Y.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.currentElementProps.length?a("div",[a("p",{staticClass:"page-title fontBold"},[t._v("组件属性")]),t._l(t.currentElementProps,(function(e){return a("attr-qk-"+e,t._b({key:e,tag:"component"},"component",t.activeElement.propsValue,!1,!0))}))],2):t._e()},Q=[],G=(a("dbb3"),a("ecb4"),a("fe8a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("文本内容：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2,placeholder:"请输入文本内容"},model:{value:t.tempText,callback:function(e){t.tempText=e},expression:"tempText"}})],1)],1)],1)}),K=[],Z={name:"AttrQkText",props:{text:{type:String,default:function(){return""}}},data:function(){return{tempText:""}},watch:{text:function(){this.tempText=this.text},tempText:function(){this.$emit("update:text",this.tempText)}},mounted:function(){this.tempText=this.text}},tt=Z,et=(a("603e"),Object(b["a"])(tt,G,K,!1,null,"d51dc3f4",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("图片列表：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("imageSelect",{attrs:{url:t.tempValue},on:{"update:url":function(e){t.tempValue=e}}})],1)],1)],1)},nt=[],lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"image-select-wrapper"},[a("div",{staticClass:"image-select-l"},[a("div",{staticClass:"component-image-select",on:{click:t.handleClick}},[t.url?a("img",{attrs:{src:t.url,alt:""}}):a("div",{staticClass:"image-preview-null"},[t._m(0),a("p",[t._v("选择")])])])]),a("div",{staticClass:"image-select-r"},[a("el-input",{attrs:{rows:2,type:"textarea",placeholder:"请输入图片地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticStyle:{margin:"8px 0 5px"}},[a("i",{staticClass:"el-icon-plus"})])}],ot=a("7720"),ct={props:{url:{type:String,default:function(){return""}}},data:function(){return{selectId:+new Date,tempValue:""}},watch:{url:function(t){this.tempValue=t},tempValue:function(t){this.changeIamge(this.selectId,t)}},created:function(){ot["a"].$on("select-image",this.changeIamge),this.tempValue=this.url},methods:{changeIamge:function(t,e){t===this.selectId&&(this.$emit("update:url",e),this.$emit("change",e))},handleClick:function(){ot["a"].$emit("show-select-image",this.selectId)}}},rt=ct,ut=(a("05ff"),Object(b["a"])(rt,lt,st,!1,null,"35cb1711",null)),dt=ut.exports,pt={name:"AttrQkImageSrc",components:{imageSelect:dt},props:{imageSrc:{type:String,default:function(){return""}}},data:function(){return{tempValue:""}},watch:{imageSrc:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:imageSrc",this.tempValue)}},mounted:function(){this.tempValue=this.imageSrc}},mt=pt,ht=(a("dbbb"),Object(b["a"])(mt,it,nt,!1,null,"416ea04f",null)),vt=ht.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("图片列表：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},t._l(t.tempValue,(function(e,i){return a("div",{key:i,staticClass:"attr-edit-wrapper"},[a("div",{staticStyle:{flex:"1"}},[a("imageSelect",{attrs:{url:e.url},on:{"update:url":function(a){return t.$set(e,"url",a)},change:t.change}})],1),a("div",{staticClass:"attr-edit-btn-wrapper"},[a("span",{staticClass:"imageSelect-btn",on:{click:function(e){return t.add(i)}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.tempValue.length>1,expression:"tempValue.length > 1"}],staticClass:"imageSelect-btn error",on:{click:function(e){return t.del(i)}}},[a("i",{staticClass:"el-icon-remove-outline"})])])])})),0)],1)],1)},bt=[],gt=(a("ea69"),{name:"AttrQkImageSrcList",components:{imageSelect:dt},props:{imageSrcList:{type:Array,default:function(){return[]}}},data:function(){return{tempValue:[]}},watch:{imageSrc:function(){this.initData()},tempValue:function(){this.change()}},created:function(){this.initData()},methods:{initData:function(){var t=[];this.imageSrcList.forEach((function(e){t.push({url:e})})),this.tempValue=t},getResultImageSrcList:function(){for(var t=[],e=0,a=this.tempValue.length;e<a;e++)t.push(this.tempValue[e].url);return t},change:function(){this.$emit("update:imageSrcList",this.getResultImageSrcList())},add:function(t){var e=this.tempValue[t];this.tempValue.splice(t,0,Object(s["a"])({},e))},del:function(t){this.tempValue.splice(t,1)}}}),Ct=gt,wt=(a("306e"),Object(b["a"])(Ct,ft,bt,!1,null,"32d0c2c4",null)),yt=wt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("url地址：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)],1)],1)},St=[],Et={name:"AttrQkUrl",props:{url:{type:String,default:function(){return""}}},data:function(){return{tempValue:""}},watch:{url:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:url",this.tempValue)}},mounted:function(){this.tempValue=this.url}},jt=Et,Dt=(a("c094"),Object(b["a"])(jt,xt,St,!1,null,"632d0f39",null)),_t=Dt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("资源地址：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:"请输入url地址"},model:{value:t.tempValue,callback:function(e){t.tempValue=e},expression:"tempValue"}})],1)],1)],1)},Ot=[],It={name:"AttrQkMusicSrc",props:{musicSrc:{type:String,default:function(){return""}}},data:function(){return{tempValue:""}},watch:{musicSrc:function(t){this.tempValue=t},tempValue:function(){this.$emit("update:musicSrc",this.tempValue)}},mounted:function(){this.tempValue=this.musicSrc}},$t=It,Ut=Object(b["a"])($t,kt,Ot,!1,null,"184a084e",null),At=Ut.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("占位提示文字：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:2,placeholder:"请输入占位提示文字"},model:{value:t.tempText,callback:function(e){t.tempText=e},expression:"tempText"}})],1)],1)],1)},zt=[],Lt={name:"AttrQkPlaceholder",props:{placeholder:{type:String,default:function(){return""}}},data:function(){return{tempText:""}},watch:{placeholder:function(t){this.tempText=t},tempText:function(){this.$emit("update:placeholder",this.tempText)}},mounted:function(){this.tempText=this.placeholder}},Vt=Lt,Tt=(a("275e"),Object(b["a"])(Vt,Pt,zt,!1,null,"1addf59a",null)),Mt=Tt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bas-com-padding"},[a("div",{staticClass:"attr-item-title"},[t._v("占行数：")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:1},model:{value:t.temp,callback:function(e){t.temp=e},expression:"temp"}})],1)],1)],1)},Bt=[],Nt={name:"AttrQkRows",props:{rows:{type:Number,default:function(){return""}}},data:function(){return{temp:3}},watch:{rows:function(t){this.temp=t},tempText:function(){this.$emit("update:rows",this.temp)}},mounted:function(){this.temp=this.rows}},Ht=Nt,Wt=(a("cad0"),Object(b["a"])(Ht,Rt,Bt,!1,null,"2898f546",null)),Ft=Wt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-mp-bg"},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("显示：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"请输入经度"},model:{value:t.aMap.lon,callback:function(e){t.$set(t.aMap,"lon",e)},expression:"aMap.lon"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("经度：")])],1),a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{type:"text",placeholder:"请输入纬度"},model:{value:t.aMap.lan,callback:function(e){t.$set(t.aMap,"lan",e)},expression:"aMap.lan"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("纬度：")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("缩放：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:23}},[a("el-slider",{attrs:{step:1,"show-stops":"",min:3,max:18},model:{value:t.aMap.zoom,callback:function(e){t.$set(t.aMap,"zoom",e)},expression:"aMap.zoom"}})],1)],1)],1)])},Yt=[],Jt={name:"AttrQkAMap",props:{aMap:{type:Object,default:function(){return{}}}},data:function(){return{tempText:""}},watch:{text:function(){this.tempText=this.text},tempText:function(){this.$emit("update:text",this.tempText)}},mounted:function(){this.tempText=this.text}},Xt=Jt,Qt=(a("4fb2"),a("496d"),Object(b["a"])(Xt,qt,Yt,!1,null,"37295058",null)),Gt=Qt.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-popover",{attrs:{placement:"left-end",width:"400",trigger:"click"},on:{hide:t.popoverClose,show:t.popoverShow}},[a("div",[a("json-editor",{ref:"echartDataJson",model:{value:t.echartData,callback:function(e){t.echartData=e},expression:"echartData"}})],1),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("编辑数据")])],1)],1)},Zt=[],te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"json-editor"},[a("textarea",{ref:"textarea"})])},ee=[],ae=a("3e83"),ie=a("012b"),ne=a.n(ie);a("dcf6"),a("e5d4"),a("3e6a"),a("78fc"),a("acd4"),a("ac34"),a("1622");a("548c");var le,se={name:"JsonEditor",props:{value:[Object,String,Array],readOnly:{type:Boolean,default:!1}},data:function(){return{jsonEditor:!1}},watch:{value:function(t){var e=this.jsonEditor.getValue();t!==e&&("object"===Object(ae["a"])(t)?this.jsonEditor.setValue(JSON.stringify(this.value,null,2)):this.jsonEditor.setValue(this.value,null,2))}},mounted:function(){var t=this;this.jsonEditor=ne.a.fromTextArea(this.$refs.textarea,{mode:"application/json",theme:"rubyblue",indentUnit:2,styleActiveLine:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],fullScreen:!0,matchBrackets:!0,autoRefresh:!0,lint:!0,readOnly:this.readOnly}),this.jsonEditor.setValue(JSON.stringify(this.value,null,1)),this.jsonEditor.on("change",(function(e){t.$emit("changed",e.getValue()),t.$emit("input",e.getValue())}))},methods:{getValue:function(){return this.jsonEditor.getValue()},refresh:function(){this.jsonEditor&&this.jsonEditor.refresh()}}},oe=se,ce=(a("fd1a"),Object(b["a"])(oe,te,ee,!1,null,"49370cd6",null)),re=ce.exports,ue={name:"AttrQkEchartData",components:{JsonEditor:re},props:{echartData:{type:Object,default:function(){return[]}}},data:function(){return{data:{}}},computed:Object(s["a"])({},Object(D["c"])(["activeElement"])),methods:{popoverClose:function(){this.activeElement.propsValue.echartData=JSON.parse(this.$refs.echartDataJson.getValue()),this.$emit("update:echartData",this.activeElement.propsValue.echartData)},popoverShow:function(){this.$refs.echartDataJson.refere()}}},de=ue,pe=Object(b["a"])(de,Kt,Zt,!1,null,"164f56b4",null),me=pe.exports,he=(le={},Object(A["a"])(le,at.name,at),Object(A["a"])(le,vt.name,vt),Object(A["a"])(le,_t.name,_t),Object(A["a"])(le,At.name,At),Object(A["a"])(le,yt.name,yt),Object(A["a"])(le,Mt.name,Mt),Object(A["a"])(le,Ft.name,Ft),Object(A["a"])(le,Gt.name,Gt),Object(A["a"])(le,me.name,me),le),ve={components:Object(s["a"])({},he),computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),{},{currentElementProps:function(){if(!this.activeElement||!this.activeElement.propsValue)return[];var t=Object.keys(this.activeElement.propsValue).filter((function(t){return"comData"===t||"configObj"===t||"apiObj"===t||"dataType"===t||"inxDataApi"===t||"mapTreeManu"===t||"fieldArray"===t?"":t})),e=Object.keys(he);return t=t.filter((function(t){return e.indexOf("AttrQk"+t)})),t}})},fe=ve,be=(a("2ff4"),Object(b["a"])(fe,X,Q,!1,null,"ccf2c0f4",null)),ge=be.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",{staticClass:"com-title"},[a("p",{staticClass:"page-title fontBold"},[t._v("echart标题")]),a("el-collapse",[a("el-collapse-item",{attrs:{title:"内容",name:"0"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("显示：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:13}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",disabled:!t.titleConfig.show,"controls-position":"right"},model:{value:t.titleConfig.text,callback:function(e){t.$set(t.titleConfig,"text",e)},expression:"titleConfig.text"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("标题名")])],1),a("el-col",{attrs:{span:10}},[a("div",{staticStyle:{height:"28px"}},[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#4072EE","inactive-color":"#292E33",size:"mini"},model:{value:t.titleConfig.show,callback:function(e){t.$set(t.titleConfig,"show",e)},expression:"titleConfig.show"}})],1),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("显示")])])],1)],1)]),a("el-collapse-item",{attrs:{title:"位置",name:"1"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("水平对齐：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("el-radio-group",{attrs:{disabled:!t.titleConfig.show},model:{value:t.titleConfig.left,callback:function(e){t.$set(t.titleConfig,"left",e)},expression:"titleConfig.left"}},[a("el-radio",{attrs:{label:"left"}},[t._v("左")]),a("el-radio",{attrs:{label:"center"}},[t._v("中")]),a("el-radio",{attrs:{label:"right"}},[t._v("右")])],1)],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("垂直对齐：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("el-radio-group",{attrs:{disabled:!t.titleConfig.show},model:{value:t.titleConfig.top,callback:function(e){t.$set(t.titleConfig,"top",e)},expression:"titleConfig.top"}},[a("el-radio",{attrs:{label:"top"}},[t._v("上")]),a("el-radio",{attrs:{label:"middle"}},[t._v("中")]),a("el-radio",{attrs:{label:"bottom"}},[t._v("下")])],1)],1)],1)],1)]),a("el-collapse-item",{attrs:{title:"标题文本样式",name:"2"}},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字体颜色：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-color-picker",{attrs:{disabled:!t.titleConfig.show,size:"mini"},model:{value:t.titleConfig.textStyle.color,callback:function(e){t.$set(t.titleConfig.textStyle,"color",e)},expression:"titleConfig.textStyle.color"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字体大小：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{disabled:!t.titleConfig.show,size:"mini","controls-position":"right"},model:{value:t.titleConfig.textStyle.fontSize,callback:function(e){t.$set(t.titleConfig.textStyle,"fontSize",e)},expression:"titleConfig.textStyle.fontSize"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("字体粗细：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:21}},[a("el-radio-group",{attrs:{disabled:!t.titleConfig.show},model:{value:t.titleConfig.textStyle.fontWeight,callback:function(e){t.$set(t.titleConfig.textStyle,"fontWeight",e)},expression:"titleConfig.textStyle.fontWeight"}},[a("el-radio",{attrs:{label:"normal"}},[t._v("普通")]),a("el-radio",{attrs:{label:"bold"}},[t._v("加粗")]),a("el-radio",{attrs:{label:"lighter"}},[t._v("更细")])],1)],1)],1)],1)])],1)],1)},we=[],ye={data:function(){return{titleConfig:{}}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["activeElement"])),watch:{titleConfig:{handler:function(t,e){this.activeElement.propsValue.configObj.titleConfig=this.titleConfig},deep:!0}},created:function(){this.titleConfig=this.activeElement.propsValue.configObj.titleConfig,console.log("titleConfig",this.titleConfig)},mounted:function(){},methods:{}},xe=ye,Se=(a("3701"),Object(b["a"])(xe,Ce,we,!1,null,null,null)),Ee=Se.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-main",{staticClass:"com-map"},[a("p",{staticClass:"page-title fontBold"},[t._v("地图样式")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("位置：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.mapConfig.lon,callback:function(e){t.$set(t.mapConfig,"lon",e)},expression:"mapConfig.lon"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("经度")])],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.mapConfig.lan,callback:function(e){t.$set(t.mapConfig,"lan",e)},expression:"mapConfig.lan"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("纬度")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("缩放比例：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-slider",{attrs:{step:1,"show-stops":"",min:3,max:18},model:{value:t.mapConfig.zoom,callback:function(e){t.$set(t.mapConfig,"zoom",e)},expression:"mapConfig.zoom"}})],1)],1)],1)])},De=[],_e={data:function(){return{mapConfig:{},lon:0,lan:0}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["activeElement"])),watch:{mapConfig:{handler:function(t,e){this.activeElement.propsValue.configObj.mapConfig=this.mapConfig},deep:!0}},created:function(){this.mapConfig=this.activeElement.propsValue.configObj.mapConfig,console.log("mapConfig",this.mapConfig)},mounted:function(){},methods:{}},ke=_e,Oe=(a("b55f"),Object(b["a"])(ke,je,De,!1,null,null,null)),Ie=Oe.exports,$e={components:{baseAttr:J,propsAttr:ge,propsTitle:Ee,propsMap:Ie},props:{},data:function(){return{activeSideBar:"componentLibs"}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement"])),watch:{activeElementUUID:function(t,e){this.init()}},methods:{init:function(){this.activeSideBar="componentLibs"}}},Ue=$e,Ae=(a("8582"),a("57ed"),Object(b["a"])(Ue,B,N,!1,null,"b4d13f24",null)),Pe=Ae.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-edit-box"},[t.isMenu?a("div",{staticClass:"tree-menu"},[a("div",[a("p",{staticClass:"page-title fontBold",staticStyle:{float:"left"}},[t._v("图层点位列表")]),a("el-tooltip",{attrs:{content:"新增点位",placement:"bottom-end",effect:"dark"}},[a("el-button",{staticStyle:{float:"right","margin-top":"5px"},attrs:{plain:"",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.handlerAddTreeMap}})],1),a("el-tooltip",{attrs:{content:"刷新标题",placement:"bottom-end",effect:"dark"}},[a("el-button",{staticStyle:{float:"right","margin-top":"5px","margin-right":"15px"},attrs:{plain:"",size:"mini",type:"primary",icon:"el-icon-refresh"},on:{click:t.handlerSaveTreeMap}})],1)],1),a("div",[a("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:t.tableData,height:"300","row-key":"id",border:"",size:"mini","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"name",label:"点位标题","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.isEdit?[a("el-input",{staticClass:"edit-input",model:{value:i.menuName,callback:function(e){t.$set(i,"menuName",e)},expression:"row.menuName"}})]:a("span",[t._v(t._s(i.menuName))])]}}],null,!1,451745878)}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"90","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row,n=e.$index;return[i.isEdit?a("div",[a("el-tooltip",{attrs:{content:"取消编辑",placement:"bottom-end",effect:"dark"}},[a("el-button",{staticClass:"cancel-btn",attrs:{icon:"el-icon-close",type:"text"},on:{click:function(e){return t.cancelEdit(i)}}})],1),a("el-tooltip",{attrs:{content:"保存修改",placement:"bottom-end",effect:"dark"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-finished"},on:{click:function(e){return t.confirmEdit(i)}}})],1)],1):a("div",[a("el-tooltip",{attrs:{content:"编辑标题",placement:"bottom-end",effect:"dark"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.handlerEdit(i)}}})],1),a("el-tooltip",{attrs:{content:"点位数据配置",placement:"bottom-end",effect:"dark"}},[a("el-button",{attrs:{type:"text",icon:"el-icon-connection"},on:{click:function(e){return t.handlerDataEdit(i)}}})],1),a("el-button",{attrs:{slot:"reference",type:"text",icon:"el-icon-delete"},on:{click:function(e){return t.handlerDelData(i,n)}},slot:"reference"})],1)]}}],null,!1,172249050)})],1)],1)]):t._e(),a("p",{staticClass:"page-title fontBold"},[t._v("数据配置")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("div",[a("p",{staticClass:"attr-item-title"},[t._v("数据类型：")]),a("el-radio-group",{attrs:{size:"mini"},on:{change:t.radioChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("静态数据")])],1)],1),a("el-tooltip",{attrs:{content:"刷新数据",placement:"top-end",effect:"dark"}},[a("el-button",{staticClass:"refeBtn",attrs:{size:"mini",type:"primary",icon:"el-icon-refresh",plain:""},on:{click:function(e){t.isMenu?t.refeTreeMenuData():t.refeData()}}})],1)],1),1==t.radio?a("div",{staticClass:"json-main"},[1==t.radio?a("json-editor",{ref:"data",model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}):t._e()],1):t._e(),2==t.radio?a("div",{staticClass:"api-box"},[a("p",{staticClass:"page-title fontBold"},[t._v("指标配置")]),a("div",{staticClass:"api-flex"},[a("p",{staticClass:"attr-item-title"},[t._v("指标：")]),a("el-select",{staticStyle:{flex:"1","margin-right":"10px"},attrs:{placeholder:"请选择指标"},on:{change:t.inxChange},model:{value:t.inxDataApi.name,callback:function(e){t.$set(t.inxDataApi,"name",e)},expression:"inxDataApi.name"}},t._l(t.inxList,(function(t){return a("el-option",{key:t.objectId,attrs:{label:t.name,value:t.objectId}})})),1),a("el-tooltip",{attrs:{content:"查询",placement:"top-end",effect:"dark"}},[a("el-button",{attrs:{size:"mini",type:"primary",plain:"",icon:"el-icon-search"},on:{click:t.getInxData}})],1)],1),t._l(t.fieldArray,(function(e){return a("div",{key:e.componentsField,staticClass:"api-flex-box"},t._l(e.componentsFieldArr,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"api-flex"},[a("p",{staticClass:"attr-item-title"},[t._v(t._s(e.title)+"：")]),a("el-select",{staticStyle:{flex:"1"},attrs:{placeholder:"请选择数据字段"},model:{value:e.field,callback:function(a){t.$set(e,"field",a)},expression:"fItem.field"}},t._l(t.dataFieldOptions,(function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)])})),0)})),a("json-editor",{ref:"data",attrs:{"read-only":!0},model:{value:t.inxData,callback:function(e){t.inxData=e},expression:"inxData"}})],2):t._e(),3==t.radio?a("div",{staticClass:"api-box"},[a("p",{staticClass:"page-title fontBold"},[t._v("API配置")]),a("div",{staticClass:"api-flex"},[a("p",{staticClass:"attr-item-title"},[t._v("请求方式：")]),a("el-select",{staticStyle:{flex:"1","margin-right":"10px"},attrs:{placeholder:"请选择"},model:{value:t.apiObj.reqType,callback:function(e){t.$set(t.apiObj,"reqType",e)},expression:"apiObj.reqType"}},t._l(t.reqOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-tooltip",{attrs:{content:"查询",placement:"top-end",effect:"dark"}},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-search",plain:""},on:{click:t.getData}})],1)],1),a("div",{staticClass:"api-flex"},[a("p",{staticClass:"attr-item-title"},[t._v("URL：")]),a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:t.apiObj.url,callback:function(e){t.$set(t.apiObj,"url",e)},expression:"apiObj.url"}})],1),a("json-editor",{ref:"data",attrs:{"read-only":!0},model:{value:t.apiData,callback:function(e){t.apiData=e},expression:"apiData"}})],1):t._e()])},Le=[],Ve=(a("1c2e"),a("71e2")),Te=a("b5c8"),Me=a.n(Te),Re={name:"AttrQkEchartData",components:{JsonEditor:re},data:function(){return{dataFieldOptions:[],tableData:[],reqOptions:[{value:"post",label:"post"},{value:"get",label:"get"}],inxDataApi:{inxRow:{},inxName:""},apiObj:{url:"",reqType:"get"},treeMenuRow:{},data:{},apiData:{},radio:"1",inxList:[],inxData:{},indexInfoList:[],isMenu:!1,fieldArray:[]}},computed:Object(s["a"])({},Object(D["c"])(["activeElement"])),watch:{"activeElement.propsValue.comData":{handler:function(t,e){this.initData()},deep:!0},radio:function(t){"1"===t&&(this.data=this.activeElement.propsValue.comData)}},mounted:function(){this.activeElement.propsValue.mapTreeManu?(this.isMenu=!0,this.tableData=this.activeElement.propsValue.mapTreeManu.treeData):this.isMenu=!1,console.log("isMenu:",this.isMenu),this.getList(),this.initData()},methods:{initData:function(){this.data=this.activeElement.propsValue.comData||[],this.radio=this.activeElement.propsValue.dataType||"1",this.fieldArray=this.activeElement.propsValue.fieldArray||[],"2"===this.radio&&(this.inxDataApi=Object(s["a"])({},this.activeElement.propsValue.inxDataApi),this.getInxData()),"3"===this.radio&&(this.apiObj=Object(s["a"])({},this.activeElement.propsValue.apiObj),this.getData())},getList:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Me.a.DataQueryBuilder.create(),a.setPageSize(1e3),a.setRelated(["indexInfo.link"]),e.next=5,Me.a.Data.of("indexGroup").find(a);case 5:i=e.sent,i.code&&Object(Ve["a"])(i),t.inxList=i;case 8:case"end":return e.stop()}}),e)})))()},getData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,selectData(t.apiObj);case 3:a=e.sent,t.apiData=a.datas||a.response,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("data-edit",e.t0),t.apiData=[];case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handlerEdit:function(t){t.isEdit=!t.isEdit,t.title=t.menuName},cancelEdit:function(t){t.menuName=t.title,t.isEdit=!1},confirmEdit:function(t){t.title=t.menuName,t.isEdit=!1},handlerDelData:function(t,e){this.tableData.splice(e,1)},handlerDataEdit:function(t){this.init(),this.radio=t.dataType,this.treeMenuRow=t,"1"===this.radio&&(this.data=t.dataObj.comData||[]),"2"===this.radio&&(this.inxDataApi=t.dataObj.inxDataApi||{},this.getInxData()),"3"===this.radio&&(this.apiObj=t.dataObj.apiObj||{},this.getData())},getInxData:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,getInxData(t.inxDataApi,t.fieldArray);case 2:t.inxData=e.sent;case 3:case"end":return e.stop()}}),e)})))()})),radioChange:function(){this.data=this.activeElement.propsValue.comData||[],console.log("this.inxDataApi",this.inxDataApi),"2"===this.radio&&(this.inxDataApi=Object(s["a"])({},this.activeElement.propsValue.inxDataApi)),"3"===this.radio&&(this.apiObj=Object(s["a"])({},this.activeElement.propsValue.apiObj))},inxChange:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e.inxList.filter((function(e){return t===e.objectId})),n=i[0].indexInfo,e.dataFieldOptions=n[0].name.split(","),e.indexInfoList=n,e.inxDataApi.inxRow=i[0];case 5:case"end":return a.stop()}}),a)})))()},refeData:function(){this.activeElement.propsValue.dataType=this.radio,"1"===this.radio?this.activeElement.propsValue.comData=Object(s["a"])({},JSON.parse(this.data)):"2"===this.radio?this.activeElement.propsValue.inxDataApi=Object(s["a"])({},this.inxDataApi):"3"===this.radio?this.activeElement.propsValue.apiObj=Object(s["a"])({},this.apiObj):this.$message.error("数据绑定失败"),this.$notify({title:"数据绑定成功！",message:"",type:"success",duration:1e3})},refeTreeMenuData:function(){this.treeMenuRow.dataType=this.radio,"1"===this.radio?this.treeMenuRow.dataObj.comData=JSON.parse(this.data):"2"===this.radio?(this.treeMenuRow.dataObj.inxDataApi=JSON.parse(JSON.stringify(this.inxDataApi)),this.getInxData()):"3"===this.radio?(this.treeMenuRow.dataObj.apiObj=this.apiObj,this.getData()):this.$message.error("数据绑定失败"),this.$notify({title:"数据绑定成功！",message:"",type:"success",duration:1e3})},handlerSaveTreeMap:function(){this.activeElement.propsValue.mapTreeManu.treeData=this.tableData,this.$notify({title:"组件数据成功！",message:"",type:"success",duration:1e3})},handlerAddTreeMap:function(){this.tableData.push({menuName:"",tableName:"event",isEdit:!0,dataType:"1",dataObj:{}})},init:function(){this.apiData={},this.inxData={},this.data={},this.inxDataApi={inxRow:{},inxName:"",inxX:"",inxY:""},this.apiObj={url:"",reqType:"get"}},load:function(t,e,a){setTimeout((function(){a([{id:31,date:"2016-05-01",name:"点位",address:"上海市普陀区金沙江路 1519 弄"},{id:32,date:"2016-05-01",name:"点位",address:"上海市普陀区金沙江路 1519 弄"}])}),1e3)}}},Be=Re,Ne=(a("62d2"),a("d6f8"),Object(b["a"])(Be,ze,Le,!1,null,"4f144034",null)),He=Ne.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-attr-edit components-attr-animate-edit"},[a("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?a("div",{staticClass:"attr-edit-inner"},[a("div",{staticClass:"animate-edit-btn-wrapper"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addAnimate}},[t._v("添加动画")]),a("el-button",{attrs:{icon:"el-icon-caret-right"},on:{click:function(e){return t.runAnimate(void 0)}}},[t._v("预览动画")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.animations.length,expression:"activeElement.animations.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[a("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.animations,(function(e,i){return a("el-collapse-item",{key:i},[a("template",{slot:"title"},[a("span",{staticClass:"el-animate-title-name"},[t._v("动画 "+t._s(i))]),a("div",{staticClass:"el-animate-title-type-wrapper"},[a("span",{staticClass:"el-animate-title-type",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleShowChooseAnimatePanel(i)}}},[t._v(" "+t._s(e.type)+" "),a("i",{staticClass:"el-icon-caret-right size-mini"})])]),a("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.runAnimate(i)}}},[a("i",{staticClass:"el-icon-caret-right"})]),a("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleDeleteAnimate(e)}}},[a("i",{staticClass:"el-icon-delete"})])]),a("div",{staticClass:"el-animate-item"},[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("动画时长：")]),a("div",{staticClass:"col-2 attr-item-edit-input"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,step:.1},model:{value:e.duration,callback:function(a){t.$set(e,"duration",a)},expression:"item.duration"}})],1)]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("动画延迟：")]),a("div",{staticClass:"col-2  attr-item-edit-input"},[a("el-input-number",{attrs:{"controls-position":"right",min:0,step:.1},model:{value:e.delay,callback:function(a){t.$set(e,"delay",a)},expression:"item.delay"}})],1)]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("循环次数：")]),a("div",{staticClass:"col-2 attr-item-edit-input"},[a("el-input-number",{attrs:{"controls-position":"right"},model:{value:e.interationCount,callback:function(a){t.$set(e,"interationCount",a)},expression:"item.interationCount"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("次数")])],1),a("div",{staticClass:"col-2 attr-item-edit-input"},[a("el-checkbox",{attrs:{label:"infinite",border:""},model:{value:e.infinite,callback:function(a){t.$set(e,"infinite",a)},expression:"item.infinite"}},[t._v("循环播放")])],1)])])],2)})),1)],1)]):a("div",[a("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])]),a("div",{staticClass:"components-attr-edit animate-choose-list-wrapper",class:{fadeInUp:t.showAnimatePanel,fadeInDown:!t.showAnimatePanel,animate:t.showAnimatePanel}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.animateCssDatas,(function(e){return a("el-tab-pane",{key:e.label,attrs:{label:e.label,name:e.label}},[a("el-scrollbar",{staticClass:"animate-choose-item"},t._l(e.children,(function(i,n){return a("div",{key:n,staticClass:"animate-choose-item-inner",on:{mouseover:function(e){t.hoverPreviewAnimate=i.value},mouseleave:function(e){t.hoverPreviewAnimate=""},click:function(e){return t.handleChooseAnimate(i)}}},[a("span",{staticClass:"animate-choose-image",class:[t.hoverPreviewAnimate===i.value&&i.value+" animated"],style:{backgroundPosition:e.bg_X+"px "+e.bg_Y+"px"}}),a("p",[t._v(t._s(i.label))])])})),0)],1)})),1)],1)],1)},Fe=[],qe=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向左进入",value:"fadeInLeft"},{label:"向右进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向左长距进入",value:"fadeInLeftBig"},{label:"向右长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向左弹入",value:"bounceInLeft"},{label:"向右弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速进入",value:"lightSpeedIn"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向左滑动展开",value:"slideInLeft"},{label:"向右滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"shake"},{label:"左右小幅晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"光速进出",value:"lightSpeedOut"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],Ye=qe,Je={data:function(){return{animateCssDatas:Ye,activeName:"进入",showAnimatePanel:!1,reSelectAnimateIndex:void 0,hoverPreviewAnimate:""}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement"])),watch:{activePageUUID:function(){this.addAnimate(!1)},activeElementUUID:function(){this.addAnimate(!1)}},methods:{handleChooseAnimate:function(t){this.showAnimatePanel=!1,void 0===this.reSelectAnimateIndex?this.$store.dispatch("addElementAnimate",t.value):(this.activeElement.animations[this.reSelectAnimateIndex].type=t.value,this.$store.dispatch("addHistoryCache"))},handleDeleteAnimate:function(t){this.$store.dispatch("deleteElementAnimate",t)},addAnimate:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showAnimatePanel=t,this.reSelectAnimateIndex=void 0},handleShowChooseAnimatePanel:function(t){this.reSelectAnimateIndex=t,this.showAnimatePanel=!0},runAnimate:function(t){var e=void 0===t?this.activeElement.animations:[this.activeElement.animations[t]];ot["a"].$emit("RUN_ANIMATIONS",this.activeElement.uuid,e)}}},Xe=Je,Qe=(a("73f3"),a("11db"),Object(b["a"])(Xe,We,Fe,!1,null,"52823530",null)),Ge=Qe.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-attr-edit"},[a("el-scrollbar",{staticClass:"components-attr-edit"},[t.activeElementUUID?a("div",{staticClass:"attr-edit-inner"},[a("div",{staticClass:"animate-edit-btn-wrapper"},[a("el-dropdown",[a("el-button",{attrs:{type:"primary"}},[t._v(" 添加事件"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.eventTypeList,(function(e,i){return a("el-dropdown-item",{key:i},[a("div",{on:{click:function(a){return t.addEvent(e.value)}}},[t._v(t._s(e.label))])])})),1)],1),a("p",{staticClass:"gray inline-block fontsize-12 marginL10"},[t._v("事件在编辑模式下无效果")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.activeElement.events.length,expression:"activeElement.events.length"}],staticClass:"el-animate-list-wrapper paddingT20"},[a("el-collapse",{attrs:{accordion:""}},t._l(t.activeElement.events,(function(e,i){return a("el-collapse-item",{key:i},[a("template",{slot:"title"},[a("span",{staticClass:"el-animate-title-name"},[t._v("事件 "+t._s(i+1))]),a("div",{staticClass:"el-animate-title-type-wrapper"},[a("span",{staticClass:"el-animate-title-type"},[t._v(t._s(t._f("getLabelText")(e.type,t.eventTypeList)))])]),a("span",{staticClass:"el-animate-title-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteEvent(i)}}},[a("i",{staticClass:"el-icon-delete"})])]),a("div",{staticClass:"el-animate-item"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"share"!==e.type,expression:"item.type !== 'share'"}],staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("链接/接口url：")]),a("div",{staticClass:"col-1  attr-item-edit-input"},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入url"},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1)])])],2)})),1)],1)]):a("div",[a("p",{staticClass:"gray paddingT30 text-center"},[t._v("请在画板上选择需要编辑得元素")])])])],1)},Ze=[],ta={name:"EventEdit",data:function(){return{eventTypeList:[{label:"链接跳转",value:"link"},{label:"分享",value:"share"},{label:"表单提交",value:"submitForm"}]}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"])),methods:{addEvent:function(t){this.$store.dispatch("addElementEvent",t)},deleteEvent:function(t){this.$store.dispatch("deleteElementEvent",t)}}},ea=ta,aa=(a("7c52"),Object(b["a"])(ea,Ke,Ze,!1,null,"5d36b7a4",null)),ia=aa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"components-attr-edit"},[a("p",{staticClass:"page-title fontBold"},[t._v("场景")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("div",{staticClass:"attr-item-title"},[t._v("命名大屏：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.projectData.title,callback:function(e){t.$set(t.projectData,"title",e)},expression:"projectData.title"}})],1)],1)],1),a("p",{staticClass:"page-title fontBold"},[t._v("预览")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("是否铺满整屏：")]),a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#4072EE","inactive-color":"#292E33"},model:{value:t.projectData.pisProportionalScaling,callback:function(e){t.$set(t.projectData,"pisProportionalScaling",e)},expression:"projectData.pisProportionalScaling"}})],1),a("p",{staticClass:"page-title fontBold"},[t._v("背景")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("背景颜色：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-color-picker",{attrs:{size:"mini","show-alpha":!0},model:{value:t.activePage.commonStyle.backgroundColor,callback:function(e){t.$set(t.activePage.commonStyle,"backgroundColor",e)},expression:"activePage.commonStyle.backgroundColor"}})],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title",staticStyle:{"line-height":"50px"}},[t._v("背景图片：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("imageSelect",{attrs:{url:t.activePage.commonStyle.backgroundImage},on:{"update:url":function(e){return t.$set(t.activePage.commonStyle,"backgroundImage",e)}}})],1)],1)],1),a("div",[a("p",{staticClass:"page-title fontBold"},[t._v("尺寸")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("屏尺寸：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.projectData.width,callback:function(e){t.$set(t.projectData,"width",e)},expression:"projectData.width"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("宽度")])],1),a("el-col",{attrs:{span:12}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini","controls-position":"right",min:0},model:{value:t.projectData.height,callback:function(e){t.$set(t.projectData,"height",e)},expression:"projectData.height"}}),a("div",{staticClass:"attr-item-edit-input-des"},[t._v("高度")])],1)],1)],1),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("缩略图：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{staticClass:"dark",attrs:{span:24}},[a("el-button",{staticClass:"img-link",on:{click:function(e){return t.screenshots()}}},[t._v("截取封面")]),a("img",{attrs:{src:t.projectData.coverImage}})],1)],1)],1)])])},la=[],sa={title:"背景地图",isOpen:!1,components:[{index:"1",isBackground:!0,elName:"bg-map",title:"高德地图",icon:"iconfont iconwenben",valueType:"",attributeTab:[{id:"5",name:"背景地图",elName:"backgroundMapEdit"}],defaultStyle:{top:0,type:"layerBottom",zIndex:0}},{index:"2",isBackground:!0,elName:"bg-b-map",title:"百度地图",icon:"iconfont iconwenben",valueType:"",defaultStyle:{top:0,type:"layerBottom",zIndex:0}}]},oa={components:{imageSelect:dt},data:function(){return{img:"",mapRadio:"",componentsBgList:sa,data:{a:{ab:1,ac:2,ad:3},b:{ba:1,bs:2,vg:4}}}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage","pageMode"])),mounted:function(){},methods:{screenshots:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("screenshots");case 2:case"end":return e.stop()}}),e)})))()},setsScreenshotsImg:function(t){this.img=t}}},ca=oa,ra=(a("b1fd"),Object(b["a"])(ca,na,la,!1,null,"7a27074a",null)),ua=ra.exports,da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-scrollbar",{staticClass:"components-attr-edit"},[a("p",{staticClass:"page-title fontBold"},[t._v("基础")]),a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("地图背景：")]),a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-switch",{attrs:{"active-text":"开","inactive-text":"关","active-color":"#4072EE","inactive-color":"#292E33"},on:{change:t.switchChange},model:{value:t.projectData.isBgMapOpen,callback:function(e){t.$set(t.projectData,"isBgMapOpen",e)},expression:"projectData.isBgMapOpen"}})],1)],1)],1),t.projectData.isBgMapOpen?a("div",[a("div",{staticClass:"attr-item-edit-wrapper"},[a("p",{staticClass:"attr-item-title"},[t._v("选择地图：")]),t.componentsBgList.components&&t.componentsBgList.components.length?a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},t._l(t.componentsBgList.components,(function(e){return a("el-col",{key:e.index,attrs:{span:10}},[a("el-radio-group",{on:{change:t.handleChange},model:{value:t.mapRadio,callback:function(e){t.mapRadio=e},expression:"mapRadio"}},[a("el-radio",{attrs:{label:e.index,border:""}},[t._v(" "+t._s(e.title)+" ")])],1)],1)})),1):t._e()],1),a("propsAttr")],1):t._e()])},pa=[],ma=a("1377"),ha={components:{propsAttr:ge},data:function(){return{mapRadio:"1",isOpen:!1,componentsBgList:sa,data:{a:{ab:1,ac:2,ad:3},b:{ba:1,bs:2,vg:4}}}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage","pageMode"])),methods:{switchChange:function(t){console.log(t),t?(this.addMap("1"),this.mapRadio="1"):(console.log("false"),this.delAllMap())},getElementsByName:function(t){var e,a=[],i=Object(ma["a"])(this.$store.getters.activePage.elements);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.elName===t&&a.push(n)}}catch(l){i.e(l)}finally{i.f()}return a},handleChange:function(){this.delAllMap(),this.addMap(this.mapRadio)},addMap:function(t){var e=this.componentsBgList.components,a=e.find((function(e){return e.index===t})),i=this.getComponentProps(a.elName);this.$store.dispatch("addBackgroundMap",Object(s["a"])(Object(s["a"])({},a),{},{needProps:i}))},delAllMap:function(){this.$store.dispatch("removeBackgroundMap")},getComponentProps:function(t){var e;for(var a in h["a"])if(a.toLowerCase()===Object(p["camelCase"])(t).toLowerCase()){e=h["a"][a];break}if(!e)return{};var i={};for(var n in e.props)i[n]=[Object,Array].includes(e.props[n].type)?e.props[n].default():e.props[n].default;return i}}},va=ha,fa=(a("1e71"),a("d2e8"),Object(b["a"])(va,da,pa,!1,null,"227b940d",null)),ba=fa.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-script-edit components-attr-edit"},[a("p",{staticClass:"page-title fontBold"},[t._v("脚本编辑")]),a("p",{staticClass:"gray paddingL10 fontsize-12"},[t._v("js脚本在编辑模式下无效果")]),a("div",{staticClass:"paddingT20"},[a("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入代码"},model:{value:t.projectData.script,callback:function(e){t.$set(t.projectData,"script",e)},expression:"projectData.script"}})],1)])},Ca=[],wa={computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["currentPageIndex","activeElementIndex","activeElement","activePage"]))},ya=wa,xa=Object(b["a"])(ya,ga,Ca,!1,null,"174f1de1",null),Sa=xa.exports,Ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("previewWrapper",{attrs:{"page-id":t.pageId},on:{closePreview:t.closePreview}})},ja=[],Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-preview"},[a("div",{staticClass:"setting-bg"}),a("div",{staticClass:"left-panel"},[a("div",{staticClass:"iframe-wrapper",style:{width:t.$config.canvasH5Width+"px",height:t.$config.canvasH5Height+"px"}},[a("iframe",{staticStyle:{"background-color":"transparent",width:"100%",height:"100%"},attrs:{src:t.$config.baseURL+"/page/view/"+t.pageId,frameborder:"0"}})])]),a("div",{staticClass:"right-panel"},[t._t("default")],2),a("span",{staticClass:"cloase-btn",on:{click:t.closePreview}},[a("i",{staticClass:"el-icon-close"})])])},_a=[],ka={name:"PreviewPage",props:{pageId:{type:String,default:function(){return""}}},data:function(){return{}},created:function(){},methods:{closePreview:function(){this.$emit("closePreview",!1)}}},Oa=ka,Ia=(a("615b"),Object(b["a"])(Oa,Da,_a,!1,null,"543b3432",null)),$a=Ia.exports,Ua={components:{previewWrapper:$a},props:{pageId:{type:String,default:function(){return""}},pageData:{type:Object,require:!0,default:function(){return{}}}},data:function(){return{}},mounted:function(){},methods:{closePreview:function(){this.$emit("closePreview",!1)},publishFn:function(){this.$emit("publishFn")},saveFn:function(){this.$emit("saveFn")}}},Aa=Ua,Pa=(a("53b9"),Object(b["a"])(Aa,Ea,ja,!1,null,"17a97e19",null)),za=Pa.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"components-image-libs-wrapper",attrs:{title:"我的图片",visible:t.dialogVisible,width:"600px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"components-image-libs"},[a("div",{staticClass:"image-lib-side-bar"}),a("div",{staticClass:"image-lib-inner"},[a("div",{staticClass:"image-lib-btn"},[a("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","before-upload":t.beforeUpload,accept:"jpg,png,gif","show-file-list":!1}},[a("el-button",{attrs:{type:"primary"}},[t._v("点击上传")]),a("span",{staticClass:"el-upload__tip marginL20",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png/gif文件，且不超过2M")])],1)],1),t.imageList.length?a("ul",{staticClass:"image-list-wrapper"},t._l(t.imageList,(function(e,i){return a("li",{key:i,staticClass:"image-item",on:{click:function(a){return t.handleImageClick(e.url)}}},[a("img",{attrs:{src:e.url,alt:""}})])})),0):a("div",{staticClass:"padding60 text-center gray"},[t._v("暂无数据")])])])])},Va=[],Ta={name:"ImageLibs",data:function(){return{dialogVisible:!1,uploading:!1,hasLoadData:!1,imageList:[],selectId:""}},watch:{},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ot["a"].$on("show-select-image",(function(e){t.dialogVisible=!0,t.selectId=e}));case 1:case"end":return e.stop()}}),e)})))()},methods:{beforeUpload:function(t){if(!(t.size>1048576)){var e=t.name.split("."),a=e[e.length-1];return["jpg","png","gif"].includes(a)?(this.uploadPsd(t),!1):(this.$message.error("请上传jpg/png/gif文件"),!1)}this.$message.error("psd文件不能超过1M！")},uploadPsd:function(t){var e=this,a=new FormData;a.append("file",t),this.uploading=!0,Me.a.Files.upload(t,"upload/screenBackground/",!0).then((function(t){e.uploading=!1;var a=[];a.push({url:t.fileURL}),e.imageList=a||[],e.handleImageClick(t.fileURL),alert("图片上传成功!")})).catch((function(t){e.uploading=!0,alert("图片上传失败!:"+t)}))},getMyImages:function(){var t=this;this.hasLoadData=!0,this.$axios.get("/person/images").then((function(e){t.imageList=e.body||[]}))},handleImageClick:function(t){ot["a"].$emit("select-image",this.selectId,t),this.dialogVisible=!1}}},Ma=Ta,Ra=(a("1a90"),a("94e2"),Object(b["a"])(Ma,La,Va,!1,null,"0fe0c641",null)),Ba=Ra.exports,Na={components:{dataEdit:He,imageLibs:Ba,editorPan:R,attrEdit:Pe,animationEdit:Ge,eventEdit:ia,scriptEdit:Sa,pageAttrEdit:ua,backgroundMapEdit:ba,previewPage:za,componentMenu:S,layerComponents:I},data:function(){return{isClick:!1,isAdd:!1,bigScreenInx:"",bigScreenList:[],bigScreenObj:null,id:"",isEdit:!1,projectId:"",loading:!1,showPreview:!1,defaultActiveAttr:"大屏设置",activeAttr:"",activeSideBar:"componentLibs",pageObj:{},sidebarMenus:[{label:"组件列表",value:"componentLibs",elementUiIcon:"el-icon-s-operation"},{label:"页面管理",pageMode:"h5",value:"pageManage",elementUiIcon:"el-icon-document"},{label:"模板库",value:"templateLibs",elementUiIcon:"el-icon-files"}],canvasConfig:{scale:.2}}},computed:Object(s["a"])(Object(s["a"])({},Object(D["d"])({projectData:function(t){return t.editor.projectData},activePageUUID:function(t){return t.editor.activePageUUID},activeElementUUID:function(t){return t.editor.activeElementUUID}})),Object(D["c"])(["pageMode","activeElement"])),watch:{activeElement:function(t){this.activeAttr=this.activeElement&&this.activeElement.attributeTab[0].elName||"",console.log("activeElement-index")}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,a.$store.dispatch("setPrjectData");case 3:a.isAdd=!0;case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){this.initPageData()},methods:{getPageData:function(t){return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Me.a.DataQueryBuilder.create(),a.setSortBy(["created desc"]),a.setWhereClause("bigScreen.objectId = '".concat(t,"'")),a.setRelated(["bigScreen"]),a.setPageSize(1e3),e.next=7,Me.a.Data.of("LSE_Page").find(a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()},getElementData:function(t){return Object(l["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Me.a.DataQueryBuilder.create(),a.setSortBy(["created desc"]),a.setWhereClause("page.objectId = '".concat(t,"'")),a.setRelated(["page","animations","events"]),a.setPageSize(1e3),e.next=7,Me.a.Data.of("LSE_Element").find(a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))()},initPageData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$refs.editorPan.screenshots();case 1:case"end":return e.stop()}}),e)})))()},dataURLtoFile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),a=t.split(","),i=a[0].match(/:(.*?);/)[1],n=i.split("/")[1],l=atob(a[1]),s=l.length,o=new Uint8Array(s);while(s--)o[s]=l.charCodeAt(s);return new File([o],"".concat(e,".").concat(n),{type:i})}}},Ha=Na,Wa=(a("2b7f"),a("cd50"),Object(b["a"])(Ha,i,n,!1,null,"68eacbce",null));e["default"]=Wa.exports},fc39:function(t,e,a){"use strict";a("e93a")},fd1a:function(t,e,a){"use strict";a("52e6")},fd91:function(t,e,a){}}]);